import { Logger } from '@nestjs/common/services/logger.service';
import { Observable, Subscription } from 'rxjs';
import { MessageHandler, MicroserviceOptions, ReadPacket, WritePacket } from '../interfaces';
export declare abstract class Server {
    protected readonly messageHandlers: Map<string, MessageHandler<any, any>>;
    protected readonly logger: Logger;
    addHandler(pattern: any, callback: MessageHandler, isEventHandler?: boolean): void;
    getHandlers(): Map<string, MessageHandler>;
    getHandlerByPattern(pattern: string): MessageHandler | null;
    send(stream$: Observable<any>, respond: (data: WritePacket) => void): Subscription;
    handleEvent(pattern: string, packet: ReadPacket): Promise<any>;
    transformToObservable<T = any>(resultOrDeffered: any): Observable<T>;
    getOptionsProp<T extends MicroserviceOptions['options'], K extends keyof T>(obj: T, prop: K, defaultValue?: T[K]): T[K];
    protected handleError(error: string): void;
    protected loadPackage<T = any>(name: string, ctx: string, loader?: Function): T;
}
